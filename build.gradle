/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'jade.java-application-conventions'
    id "com.palantir.git-version" version "0.13.0"
    id "com.intershop.gradle.javacc" version "4.0.1"
}

/* update this if Jade got new stuff */
version='4.3.3'

def getDateTime() {
    return new Date().format('yyyy-MM-dd-HH:mm:ss')
}

repositories {
    flatDir {
	dirs '3rdparty-libs/com.toedter'
    }
}

javacc {
    configs {
        template {
            inputFile = file('src/jade/lang/acl/ACLParser.jj')
            packageName = 'jade.lang.acl'
        }
        template {
            inputFile = file('src/jade/content/lang/sl/SLParser.jj')
            packageName = 'jade.content.lang.sl'
        }
        template {
            inputFile = file('src/jade/content/lang/sl/ExtendedSLParser.jj')
            packageName = 'jade.content.lang.sl'
        }
    }
}

dependencies {
    implementation name: 'CalendarBean'

    // https://mvnrepository.com/artifact/org.glassfish.corba/glassfish-corba-omgapi
    implementation 'org.glassfish.corba:glassfish-corba-omgapi:4.2.4'

    // https://mvnrepository.com/artifact/commons-codec/commons-codec
    implementation 'commons-codec:commons-codec:1.15'
}

sourceSets {
    main {
	java {
	    srcDirs = [ 'src/FIPA', 'src/demo', 'src/jade' ]
	}
    }
}

tasks.named('jar') {
    from('src') {
	include "**/*.gif"
	include "**/*.png"
	include "**/*.jpg"
    }
    manifest {
        attributes('Built-By': "Jade Team (" + System.properties['user.name'] + ")")
        attributes('Build-Date': getDateTime())
        attributes([ 'Specification-Version': version ], 'Jade Informations')
        attributes([ 'SVN-Revision': gitVersion() ], 'Jade Informations')
        attributes([ 'SVN-Date': getDateTime() ], 'Jade Informations')
    }
}

application {
    // Define the main class for the application.
    mainClass = 'jade.Boot'
}
